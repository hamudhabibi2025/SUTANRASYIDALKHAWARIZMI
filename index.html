<!DOCTYPE html>
<html>
<head>
    <base target="_top">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PSSI Mentawai - Admin Dashboard</title>
    <?!= include('style'); ?>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

    <div id="notification-container"></div>

    <div id="login-view" class="active">
        <div class="login-form-container">
            <h2 class="text-center">Login PSSI Mentawai</h2>
            <form id="login-form">
                <label for="username">Username:</label>
                <input type="text" id="username" required>
                
                <label for="password">Password:</label>
                <input type="password" id="password" required>
                
                <button type="submit" class="btn btn-primary mt-3" style="width:100%;">Login</button>
            </form>
        </div>
    </div>

    <div id="dashboard-view" style="display: none;">
        <div class="container">
            
            <aside id="sidebar">
                <div id="logo">
                    <h2>PSSI Mentawai</h2>
                    <small id="user-info-sidebar">User: N/A</small>
                </div>
                
                <ul id="nav-menu">
                    </ul>
                
                <button id="logout-btn" class="btn"><i class="fas fa-sign-out-alt"></i> Logout</button>
            </aside>
            
            <main id="content-area">
                
                <section id="tab-home" class="tab-content active">
                    <h3>Selamat Datang di Dashboard Admin</h3>
                    <p>Silakan pilih menu di samping untuk mengelola data.</p>
                </section>

                <section id="tab-a1" class="tab-content">
                    <h3>FORM A1: Klub Individu (Struktural)</h3>
                    <button id="add-a1-btn" class="btn btn-success"><i class="fas fa-plus"></i> Tambah Individu</button>
                    <table id="a1-data-table">
                        <thead><tr></tr></thead>
                        <tbody></tbody>
                    </table>
                </section>

                <section id="tab-a2" class="tab-content">
                    <h3>FORM A2: Pemain Kolektif</h3>
                    <button id="add-a2-btn" class="btn btn-success"><i class="fas fa-plus"></i> Tambah Pemain</button>
                    <table id="a2-data-table">
                        <thead><tr></tr></thead>
                        <tbody></tbody>
                    </table>
                </section>

                <section id="tab-a3" class="tab-content">
                    <h3>FORM A3: Pendaftaran Pertandingan</h3>
                    <div id="a3-actions">
                        <button id="add-a3-schedule-btn" class="btn btn-warning" style="display:none;"><i class="fas fa-calendar-plus"></i> Buat Jadwal Pertandingan</button>
                        <button id="add-a3-player-btn" class="btn btn-success" style="display:none;"><i class="fas fa-user-plus"></i> Daftarkan Pemain</button>
                    </div>

                    <table id="a3-data-table">
                        <thead><tr></tr></thead>
                        <tbody><tr><td colspan="10">Memuat data...</td></tr></tbody>
                    </table>
                </section>

                <section id="tab-berita" class="tab-content">
                    <h3>BERITA PSSI MENTAWAI</h3>
                    <button id="add-berita-btn" class="btn btn-warning" style="display:none;"><i class="fas fa-plus"></i> Buat Berita Baru</button>
                    <table id="berita-data-table">
                        <thead><tr></tr></thead>
                        <tbody><tr><td colspan="5">Memuat data...</td></tr></tbody>
                    </table>
                </section>

                <section id="tab-chat" class="tab-content">
                    <h3>CHAT ANTAR ADMIN</h3>
                    <div class="chat-container">
                        <div id="chat-sidebar">
                            <h4>Kontak Admin</h4>
                            <ul id="contact-list"></ul>
                        </div>
                        
                        <div id="chat-main" class="hidden">
                            <div id="chat-header">
                                <span id="chat-recipient-name"></span>
                                <span id="chat-recipient-status" class="offline"></span>
                            </div>
                            <div id="chat-messages"></div>
                            <form id="chat-form">
                                <input type="text" id="chat-input" placeholder="Ketik pesan..." required>
                                <button type="submit" class="btn btn-primary"><i class="fas fa-paper-plane"></i> Kirim</button>
                            </form>
                        </div>
                        <div id="chat-welcome" class="active">
                            Pilih kontak untuk memulai obrolan.
                        </div>
                    </div>
                </section>

            </main>
        </div>
    </div>
    
    <div id="a1-form-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" data-modal="a1-form-modal">&times;</span>
            <h4 id="a1-modal-title">Form Data Individu (A1)</h4>
            <form id="form-a1">
                <input type="hidden" id="a1-old-nama-individu">
                <label for="a1-nama-individu">Nama Individu:</label>
                <input type="text" id="a1-nama-individu" required>
                
                <label for="a1-jabatan">Jabatan:</label>
                <input type="text" id="a1-jabatan" required>
                
                <label for="a1-status">Status:</label>
                <select id="a1-status" required>
                    <option value="AKTIF">AKTIF</option>
                    <option value="TIDAK_AKTIF">TIDAK AKTIF</option>
                </select>

                <button type="submit" id="a1-submit-btn" class="btn btn-primary mt-3">Simpan</button>
            </form>
        </div>
    </div>
    
    <div id="a2-form-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" data-modal="a2-form-modal">&times;</span>
            <h4 id="a2-modal-title">Form Data Pemain (A2)</h4>
            <form id="form-a2">
                <label>ID Klub (Otomatis): <span id="a2-display-id-klub" class="display-auto"></span></label><br>
                <label>Nama Klub (Otomatis): <span id="a2-display-nama-klub" class="display-auto"></span></label>
                <hr>
                <label for="a2-id-pemain">ID Pemain (16 Digit Angka):</label>
                <input type="text" id="a2-id-pemain" pattern="\d{16}" maxlength="16" title="Wajib 16 digit angka" required>
                
                <label for="a2-nama-lengkap">Nama Lengkap:</label>
                <input type="text" id="a2-nama-lengkap" required>

                <label for="a2-nama-punggung">Nama Punggung:</label>
                <input type="text" id="a2-nama-punggung">
                
                <label for="a2-npg">No. Punggung (Maks 3 Digit):</label>
                <input type="number" id="a2-npg" min="1" max="999" required>

                <label for="a2-tgl-lahir">Tanggal Lahir:</label>
                <input type="date" id="a2-tgl-lahir" required>
                
                <label>Usia (Tahun, Otomatis): <span id="a2-display-usia" class="display-auto">0</span></label><br>

                <label for="a2-keterangan">Keterangan:</label>
                <input type="text" id="a2-keterangan">

                <button type="submit" id="a2-submit-btn" class="btn btn-primary mt-3">Simpan Pemain</button>
            </form>
        </div>
    </div>
    
    <div id="a3-schedule-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" data-modal="a3-schedule-modal">&times;</span>
            <h4>Buat Jadwal Pertandingan (ADMIN PUSAT)</h4>
            <form id="form-a3-schedule">
                <label for="a3-schedule-tgl">Tanggal Pertandingan:</label>
                <input type="date" id="a3-schedule-tgl" required>

                <label for="a3-schedule-lokasi">Lokasi Pertandingan:</label>
                <input type="text" id="a3-schedule-lokasi" required>
                
                <label for="a3-schedule-klub">ID Klub Terlibat (Contoh: APM-001):</label>
                <input type="text" id="a3-schedule-klub" required> 

                <button type="submit" class="btn btn-primary mt-3">Simpan Jadwal</button>
            </form>
        </div>
    </div>
    
    <div id="a3-player-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" data-modal="a3-player-modal">&times;</span>
            <h4>Daftarkan Pemain ke Line-up (ADMIN KLUB)</h4>
            <form id="form-a3-player">
                
                <label for="a3-player-lineup">Pilih Jadwal Line-up:</label>
                <select id="a3-player-lineup" required></select>
                
                <label for="a3-player-id">Pilih Pemain (A2):</label>
                <select id="a3-player-id" required></select>
                
                <label>Nama Punggung (A2): <span id="a3-display-nama-punggung" class="display-auto"></span></label><br>
                
                <label for="a3-player-npg">No. Punggung (Bisa Diubah, Asal: A2):</label>
                <input type="number" id="a3-player-npg" min="1" max="999">
                
                <label for="a3-player-tipe">Tipe Pemain:</label>
                <select id="a3-player-tipe" required></select>
                
                <label for="a3-player-posisi">Posisi:</label>
                <select id="a3-player-posisi" required></select>

                <button type="submit" class="btn btn-primary mt-3">Daftar Pemain</button>
            </form>
        </div>
    </div>
    
    <div id="berita-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" data-modal="berita-modal">&times;</span>
            <h4 id="berita-modal-title">Form Berita</h4>
            <form id="form-berita">
                <input type="hidden" id="berita-row-number"> 
                
                <label for="berita-judul">Judul Berita:</label>
                <input type="text" id="berita-judul" required>

                <label for="berita-url-gambar">URL Gambar Utama (Contoh: Google Drive/Imgur URL):</label>
                <input type="url" id="berita-url-gambar" required>
                
                <label for="berita-konten">Konten Berita:</label>
                <textarea id="berita-konten" rows="10" required></textarea>
                
                <label>Penulis (Otomatis): <span id="berita-display-penulis" class="display-auto"></span></label><br>
                <label>Tipe Penulis (Otomatis): <span id="berita-display-tipe" class="display-auto"></span></label>

                <button type="submit" id="berita-submit-btn" class="btn btn-primary mt-3">Simpan Berita</button>
            </form>
        </div>
    </div>

    <?!= include('script'); ?>
</body>
</html>
